'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.loadPropertiesFile = loadPropertiesFile;
exports.savePropertiesFile = savePropertiesFile;

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _jsYaml = require('js-yaml');

var _jsYaml2 = _interopRequireDefault(_jsYaml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Load properties file into properties object
 * A property is a key/value pair.
 *
 * @param path
 *
 * @return {Object} properties
 */
function loadPropertiesFile(path) {
  let doc;
  try {
    const contents = _fs2.default.readFileSync(path, 'utf8');
    doc = _jsYaml2.default.safeLoad(contents);
  } catch (error) {
    console.log(error);
  }

  return doc;
}

/**
 * Save properties object into properties file
 * A property is a key/value pair.
 *
 * @param path
 * @param obj
 *
 */
function savePropertiesFile(path, obj) {
  const contents = {};
  obj.forEach(envVar => {
    contents[envVar.key] = envVar.value;
  });

  try {
    const string = _jsYaml2.default.safeDump(contents);
    _fs2.default.writeFileSync(path, string, 'utf8');
  } catch (error) {
    console.log(error);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvcHJvcGVydGllcy1maWxlLmpzIl0sIm5hbWVzIjpbImxvYWRQcm9wZXJ0aWVzRmlsZSIsInNhdmVQcm9wZXJ0aWVzRmlsZSIsInBhdGgiLCJkb2MiLCJjb250ZW50cyIsInJlYWRGaWxlU3luYyIsInNhZmVMb2FkIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwib2JqIiwiZm9yRWFjaCIsImVudlZhciIsImtleSIsInZhbHVlIiwic3RyaW5nIiwic2FmZUR1bXAiLCJ3cml0ZUZpbGVTeW5jIl0sIm1hcHBpbmdzIjoiOzs7OztRQVdnQkEsa0IsR0FBQUEsa0I7UUFvQkFDLGtCLEdBQUFBLGtCOztBQS9CaEI7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7Ozs7O0FBUU8sU0FBU0Qsa0JBQVQsQ0FBNEJFLElBQTVCLEVBQWtDO0FBQ3ZDLE1BQUlDLEdBQUo7QUFDQSxNQUFJO0FBQ0YsVUFBTUMsV0FBVyxhQUFHQyxZQUFILENBQWdCSCxJQUFoQixFQUFzQixNQUF0QixDQUFqQjtBQUNBQyxVQUFNLGlCQUFLRyxRQUFMLENBQWNGLFFBQWQsQ0FBTjtBQUNELEdBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7QUFDZEMsWUFBUUMsR0FBUixDQUFZRixLQUFaO0FBQ0Q7O0FBRUQsU0FBT0osR0FBUDtBQUNEOztBQUVEOzs7Ozs7OztBQVFPLFNBQVNGLGtCQUFULENBQTRCQyxJQUE1QixFQUFrQ1EsR0FBbEMsRUFBdUM7QUFDNUMsUUFBTU4sV0FBVyxFQUFqQjtBQUNBTSxNQUFJQyxPQUFKLENBQWFDLE1BQUQsSUFBWTtBQUN0QlIsYUFBU1EsT0FBT0MsR0FBaEIsSUFBdUJELE9BQU9FLEtBQTlCO0FBQ0QsR0FGRDs7QUFJQSxNQUFJO0FBQ0YsVUFBTUMsU0FBUyxpQkFBS0MsUUFBTCxDQUFjWixRQUFkLENBQWY7QUFDQSxpQkFBR2EsYUFBSCxDQUFpQmYsSUFBakIsRUFBdUJhLE1BQXZCLEVBQStCLE1BQS9CO0FBQ0QsR0FIRCxDQUdFLE9BQU9SLEtBQVAsRUFBYztBQUNkQyxZQUFRQyxHQUFSLENBQVlGLEtBQVo7QUFDRDtBQUNGIiwiZmlsZSI6InByb3BlcnRpZXMtZmlsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeWFtbCBmcm9tICdqcy15YW1sJztcblxuLyoqXG4gKiBMb2FkIHByb3BlcnRpZXMgZmlsZSBpbnRvIHByb3BlcnRpZXMgb2JqZWN0XG4gKiBBIHByb3BlcnR5IGlzIGEga2V5L3ZhbHVlIHBhaXIuXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcm9wZXJ0aWVzRmlsZShwYXRoKSB7XG4gIGxldCBkb2M7XG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudHMgPSBmcy5yZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKTtcbiAgICBkb2MgPSB5YW1sLnNhZmVMb2FkKGNvbnRlbnRzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cblxuICByZXR1cm4gZG9jO1xufVxuXG4vKipcbiAqIFNhdmUgcHJvcGVydGllcyBvYmplY3QgaW50byBwcm9wZXJ0aWVzIGZpbGVcbiAqIEEgcHJvcGVydHkgaXMgYSBrZXkvdmFsdWUgcGFpci5cbiAqXG4gKiBAcGFyYW0gcGF0aFxuICogQHBhcmFtIG9ialxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVQcm9wZXJ0aWVzRmlsZShwYXRoLCBvYmopIHtcbiAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgb2JqLmZvckVhY2goKGVudlZhcikgPT4ge1xuICAgIGNvbnRlbnRzW2VudlZhci5rZXldID0gZW52VmFyLnZhbHVlO1xuICB9KTtcblxuICB0cnkge1xuICAgIGNvbnN0IHN0cmluZyA9IHlhbWwuc2FmZUR1bXAoY29udGVudHMpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMocGF0aCwgc3RyaW5nLCAndXRmOCcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfVxufVxuIl19